<div *ngIf="!products">
  <h2>Recherche en cours...</h2>
  <app-loading></app-loading>
</div>
<div *ngIf="products && products.length > 0">
  <div class="space-between">
    <h3 *ngIf="!allProducts">
      Résultats trouvés :
      <strong *ngIf="pages"
        >{{ page * limit - limit }}-<span *ngIf="page * limit < foundResults">{{
          page * limit
        }}</span
        ><span *ngIf="page * limit > foundResults">{{ foundResults }}</span> sur
        {{ foundResults }}</strong
      >
    </h3>
    <h3 *ngIf="allProducts">Tous les produits</h3>
    <select (change)="filterBy($event)" class="filter">
      <option selected value="">Trier par</option>
      <option value="desc_price">Prix - Desc</option>
      <option value="asc_price">Prix - Asc</option>
      <option value="desc_rate">Notes - Desc</option>
      <option value="asc_rate">Notes - Asc</option>
    </select>
  </div>
  <div class="grid">
    <app-one-product
      *ngFor="let product of products"
      [product]="product"
    ></app-one-product>
  </div>
  <div class="pagination" *ngIf="pages">
    <ul class="pagination-list" *ngIf="pages.length > 1">
      <li *ngFor="let pageNumber of pages">
        <a
          *ngIf="pageNumber === page"
          style="pointer-events: none"
          class="selected"
          >{{ pageNumber }}</a
        >
        <a *ngIf="pageNumber !== page" (click)="changePage(pageNumber)">{{
          pageNumber
        }}</a>
      </li>
    </ul>
  </div>
</div>
<div class="container-small" *ngIf="products && products.length == 0">
  <p>Aucun résultat trouvé.</p>
  <a routerLink="/products">Retourner aux produits</a>
</div>
